# é¢„æµ‹ç»“æœç»˜å›¾è„šæœ¬ä½¿ç”¨è¯´æ˜

## è„šæœ¬åŠŸèƒ½

è¿™ä¸¤ä¸ªè„šæœ¬ç”¨äºåˆ†æå’Œå¯è§†åŒ–åœ¨çº¿å­¦ä¹ çš„é¢„æµ‹ç»“æœï¼š

1. **`plot_prediction_results.py`** - å®Œæ•´åŠŸèƒ½ç‰ˆæœ¬ï¼Œæ”¯æŒå¤šç§åˆ†æ
2. **`quick_accuracy_plot.py`** - ç®€åŒ–ç‰ˆæœ¬ï¼Œå¿«é€ŸæŸ¥çœ‹å‡†ç¡®ç‡

## ä½¿ç”¨æ–¹æ³•

### 1. å¿«é€Ÿç»˜å›¾è„šæœ¬ (æ¨è)

#### åŸºæœ¬ä½¿ç”¨
```bash
# ç»˜åˆ¶æ‰€æœ‰é¢„æµ‹ç»“æœæ–‡ä»¶çš„å‡†ç¡®ç‡
python quick_accuracy_plot.py

# ç»˜åˆ¶å•ä¸ªæ–‡ä»¶çš„è¯¦ç»†åˆ†æ
python quick_accuracy_plot.py prediction_results_20241201_143022.json
```

#### è¾“å‡ºå†…å®¹
- **å‡†ç¡®ç‡è¶‹åŠ¿å›¾**: æ˜¾ç¤ºé¢„æµ‹å‡†ç¡®ç‡éšæ—¶é—´çš„å˜åŒ–
- **é¢„æµ‹vså®é™…æ ‡ç­¾**: æ¯”è¾ƒé¢„æµ‹æ ‡ç­¾å’ŒçœŸå®æ ‡ç­¾
- **ç»Ÿè®¡ä¿¡æ¯**: æ€»é¢„æµ‹æ•°ã€æ­£ç¡®é¢„æµ‹æ•°ã€æœ€ç»ˆå‡†ç¡®ç‡

### 2. å®Œæ•´åŠŸèƒ½è„šæœ¬

#### åŸºæœ¬ä½¿ç”¨
```bash
# åˆ†ææ‰€æœ‰é¢„æµ‹ç»“æœæ–‡ä»¶
python plot_prediction_results.py

# åˆ†æç‰¹å®šæ–‡ä»¶
python plot_prediction_results.py --files prediction_results_20241201_143022.json

# ç”Ÿæˆè¯¦ç»†åˆ†æ
python plot_prediction_results.py --detailed

# ä¸ä¿å­˜å›¾ç‰‡ï¼Œåªæ˜¾ç¤º
python plot_prediction_results.py --no-save

# ä¸æ˜¾ç¤ºå›¾ç‰‡ï¼Œåªä¿å­˜
python plot_prediction_results.py --no-show
```

#### é«˜çº§é€‰é¡¹
```bash
# è‡ªå®šä¹‰æ–‡ä»¶æ¨¡å¼
python plot_prediction_results.py --pattern "my_results_*.json"

# åˆ†æå¤šä¸ªç‰¹å®šæ–‡ä»¶
python plot_prediction_results.py --files file1.json file2.json file3.json
```

## å›¾è¡¨è¯´æ˜

### å¿«é€Ÿç»˜å›¾è„šæœ¬è¾“å‡º

1. **å‡†ç¡®ç‡è¶‹åŠ¿å›¾**
   - Xè½´: é¢„æµ‹æ¬¡æ•°
   - Yè½´: å‡†ç¡®ç‡ (0-1)
   - æ˜¾ç¤º: å‡†ç¡®ç‡éšé¢„æµ‹æ¬¡æ•°çš„å˜åŒ–è¶‹åŠ¿

2. **é¢„æµ‹vså®é™…æ ‡ç­¾å›¾**
   - Xè½´: é¢„æµ‹æ¬¡æ•°
   - Yè½´: æ ‡ç­¾å€¼ (7=å·¦æ‰‹, 8=å³æ‰‹)
   - è“çº¿: é¢„æµ‹æ ‡ç­¾
   - çº¢çº¿: å®é™…æ ‡ç­¾

### å®Œæ•´åŠŸèƒ½è„šæœ¬è¾“å‡º

1. **å‡†ç¡®ç‡éšæ—¶é—´å˜åŒ–**
   - æ˜¾ç¤ºæ¯ä¸ªé¢„æµ‹ç‚¹çš„å‡†ç¡®ç‡
   - å¤šæ¡çº¿è¡¨ç¤ºå¤šä¸ªæ–‡ä»¶çš„ç»“æœ

2. **ç´¯ç§¯å‡†ç¡®ç‡**
   - æ˜¾ç¤ºä»å¼€å§‹åˆ°å½“å‰ç‚¹çš„ç´¯ç§¯å‡†ç¡®ç‡
   - åæ˜ æ•´ä½“å­¦ä¹ æ•ˆæœ

3. **é¢„æµ‹vså®é™…æ¯”è¾ƒ**
   - æ¯”è¾ƒé¢„æµ‹æ ‡ç­¾å’ŒçœŸå®æ ‡ç­¾
   - è¯†åˆ«é”™è¯¯é¢„æµ‹çš„ä½ç½®

4. **æœ€ç»ˆç»Ÿè®¡**
   - æŸ±çŠ¶å›¾æ˜¾ç¤ºæ€»é¢„æµ‹æ•°ã€æ­£ç¡®é¢„æµ‹æ•°ã€æœ€ç»ˆå‡†ç¡®ç‡
   - å¤šä¸ªæ–‡ä»¶çš„å¯¹æ¯”

5. **è¯¦ç»†åˆ†æ** (ä½¿ç”¨--detailedé€‰é¡¹)
   - å‡†ç¡®ç‡è¿›å±•
   - é¢„æµ‹ç½®ä¿¡åº¦
   - é”™è¯¯åˆ†æ

## è¾“å‡ºæ–‡ä»¶

è„šæœ¬ä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

- `accuracy_plot_YYYYMMDD_HHMMSS.png` - å¿«é€Ÿç»˜å›¾è¾“å‡º
- `prediction_analysis_YYYYMMDD_HHMMSS.png` - å®Œæ•´åˆ†æè¾“å‡º
- `detailed_analysis_filename_YYYYMMDD_HHMMSS.png` - è¯¦ç»†åˆ†æè¾“å‡º

## ç¤ºä¾‹è¾“å‡º

### æ§åˆ¶å°è¾“å‡ºç¤ºä¾‹
```
ğŸ“ Found 2 result file(s):
   - prediction_results_20241201_143022.json
   - prediction_results_20241201_150145.json

ğŸ“Š prediction_results_20241201_143022: 15 predictions, 12 correct, final accuracy: 0.800
ğŸ“Š prediction_results_20241201_150145: 20 predictions, 18 correct, final accuracy: 0.900

ğŸ’¾ Plot saved as: accuracy_plot_20241201_151230.png
```

### å›¾è¡¨å†…å®¹
- **å‡†ç¡®ç‡æ›²çº¿**: æ˜¾ç¤ºå­¦ä¹ è¿‡ç¨‹ä¸­å‡†ç¡®ç‡çš„å˜åŒ–
- **æ ‡ç­¾å¯¹æ¯”**: æ˜¾ç¤ºé¢„æµ‹æ ‡ç­¾å’ŒçœŸå®æ ‡ç­¾çš„åŒ¹é…æƒ…å†µ
- **ç»Ÿè®¡æ‘˜è¦**: æ˜¾ç¤ºæ€»ä½“æ€§èƒ½æŒ‡æ ‡

## æ•°æ®æ ¼å¼è¦æ±‚

JSONæ–‡ä»¶åº”åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š

```json
{
  "timestamp": "2024-12-01T14:30:22",
  "statistics": {
    "total_predictions": 15,
    "correct_predictions": 12,
    "accuracy": 0.8,
    "accuracy_history": [0.0, 0.5, 0.67, 0.75, 0.8],
    "prediction_history": [
      {
        "timestamp": 1701435022.123,
        "prediction": 7,
        "true_label": 7,
        "is_correct": true,
        "proba": [0.8, 0.2],
        "accuracy": 1.0
      }
    ]
  }
}
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰¾ä¸åˆ°æ–‡ä»¶**
   ```
   âŒ No files found matching pattern: prediction_results_*.json
   ```
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åœ¨å½“å‰ç›®å½•
   - ç¡®è®¤æ–‡ä»¶åæ ¼å¼æ­£ç¡®

2. **æ•°æ®æ ¼å¼é”™è¯¯**
   ```
   âŒ Error loading file.json: Expecting value: line 1 column 1
   ```
   - æ£€æŸ¥JSONæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤æ–‡ä»¶æ²¡æœ‰æŸå

3. **ç¼ºå°‘æ•°æ®**
   ```
   âš ï¸ No accuracy history found in file.json
   ```
   - ç¡®è®¤JSONæ–‡ä»¶åŒ…å«accuracy_historyå­—æ®µ
   - æ£€æŸ¥æ•°æ®æ˜¯å¦å®Œæ•´

### è°ƒè¯•å»ºè®®

1. **æ£€æŸ¥æ–‡ä»¶å†…å®¹**
   ```bash
   # æŸ¥çœ‹JSONæ–‡ä»¶å†…å®¹
   cat prediction_results_20241201_143022.json | head -20
   ```

2. **éªŒè¯æ•°æ®å®Œæ•´æ€§**
   ```python
   import json
   with open('prediction_results_20241201_143022.json', 'r') as f:
       data = json.load(f)
   print("Keys:", data.keys())
   print("Statistics keys:", data.get('statistics', {}).keys())
   ```

3. **æµ‹è¯•å•ä¸ªæ–‡ä»¶**
   ```bash
   python quick_accuracy_plot.py prediction_results_20241201_143022.json
   ```

## è‡ªå®šä¹‰é€‰é¡¹

### ä¿®æ”¹å›¾è¡¨æ ·å¼
åœ¨è„šæœ¬ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š

```python
# å›¾è¡¨å¤§å°
plt.figure(figsize=(12, 8))

# é¢œè‰²æ–¹æ¡ˆ
colors = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b']

# çº¿æ¡æ ·å¼
linewidth=2, marker='o', markersize=4
```

### ä¿å­˜æ ¼å¼
```python
# ä¿å­˜ä¸ºä¸åŒæ ¼å¼
plt.savefig('output.png', dpi=300, bbox_inches='tight')  # PNG
plt.savefig('output.pdf', bbox_inches='tight')           # PDF
plt.savefig('output.svg', bbox_inches='tight')           # SVG
``` 